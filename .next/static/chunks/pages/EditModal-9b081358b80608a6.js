(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{3634:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/EditModal",function(){return t(8027)}])},8027:function(e,n,t){"use strict";t.r(n);var s=t(5893),c=t(7294),i=t(3856),l=t(7790),r=t(9014),u=t(7917),a=t(7531),o=t.n(a);n.default=function(e){let{onSubmit:n,onCancel:t,recordId:a}=e,[d]=i.Z.useForm();(0,c.useEffect)(()=>{if(a){let e=new(o()).Query("TestObject");e.get(a).then(e=>{console.log(e,123),d.setFieldsValue({...e._serverData})})}},[a]);let f=e=>{let s=o().Object.extend("TestObject"),c=new s;d.validateFields().then(async()=>{if(c.set("name",e.name),c.set("nick",e.nick),a){let n=o().Object.createWithoutData("TestObject",a);n.set("name",e.name),n.set("nick",e.nick),n.save(),d.resetFields(),l.ZP.success("编辑成功");return}await c.save().then(e=>{console.log("保存成功。objectId：".concat(e.id)),l.ZP.success("新增成功"),d.resetFields()},e=>{})}),n(),null==t||t()},h=()=>{d.resetFields(),null==t||t()};return(0,s.jsx)(r.Z,{open:!0,title:"新增数据",onOk:d.submit,onCancel:h,children:(0,s.jsxs)(i.Z,{form:d,onFinish:f,children:[(0,s.jsx)(i.Z.Item,{name:"name",label:"姓名",rules:[{required:!0}],children:(0,s.jsx)(u.Z,{})}),(0,s.jsx)(i.Z.Item,{name:"nick",label:"昵称",rules:[{required:!0}],children:(0,s.jsx)(u.Z,{})})]})})}}},function(e){e.O(0,[500,774,888,179],function(){return e(e.s=3634)}),_N_E=e.O()}]);